"use strict";(self.webpackChunkveezoo_docs=self.webpackChunkveezoo_docs||[]).push([[8975],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return h}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},y=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(n),y=a,h=d["".concat(l,".").concat(y)]||d[y]||p[y]||r;return n?o.createElement(h,i(i({ref:t},u),{},{components:n})):o.createElement(h,i({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=y;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:a,i[1]=s;for(var c=2;c<r;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}y.displayName="MDXCreateElement"},6912:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return d}});var o=n(7462),a=n(3366),r=(n(7294),n(3905)),i=["components"],s={id:"kg-sync",title:"Knowledge Graph Sync",sidebar_label:"Why and how to sync?"},l=void 0,c={unversionedId:"kg-sync/kg-sync",id:"kg-sync/kg-sync",title:"Knowledge Graph Sync",description:"Why keep your Knowledge Graph synchronized?",source:"@site/docs/kg-sync/kg-sync.md",sourceDirName:"kg-sync",slug:"/kg-sync/",permalink:"/docs/kg-sync/",draft:!1,editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/kg-sync/kg-sync.md",tags:[],version:"current",frontMatter:{id:"kg-sync",title:"Knowledge Graph Sync",sidebar_label:"Why and how to sync?"},sidebar:"docs",previous:{title:"Microsoft Azure Identity Provider",permalink:"/docs/admin/single-sign-on/microsoft-azure-idp"},next:{title:"name",permalink:"/docs/reference/kb-layer/general/name"}},u={},d=[{value:"Why keep your Knowledge Graph synchronized?",id:"why-keep-your-knowledge-graph-synchronized",level:2},{value:"How do I synchronize it?",id:"how-do-i-synchronize-it",level:2},{value:"Manual Sync",id:"manual-sync",level:3},{value:"Scheduled Sync",id:"scheduled-sync",level:3},{value:"Scheduled Sync with Sync Policy",id:"scheduled-sync-with-sync-policy",level:3}],p={toc:d},y="wrapper";function h(e){var t=e.components,s=(0,a.Z)(e,i);return(0,r.kt)(y,(0,o.Z)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"why-keep-your-knowledge-graph-synchronized"},"Why keep your Knowledge Graph synchronized?"),(0,r.kt)("p",null,"The Knowledge Graph is a semantic representation of your data and, because of that, it needs to know the values (entities) in your data."),(0,r.kt)("p",null,"When we talk about synchronizing the Knowledge Graph, we mean keeping these database values up-to-date, not the database schema."),(0,r.kt)("p",null,"Let's say you've imported a table containing the products you sell. These products may change in the future and Veezoo should know about these changes, so you can ask about the new products."),(0,r.kt)("p",null,"Notice here that the Knowledge Graph will contain the individual distinct values of a database column (e.g. your products), but not all the rows in your database (e.g. all the transactions from these products and the revenue, etc).\nIn other words, the Knowledge Graph is used to ",(0,r.kt)("strong",{parentName:"p"},"understand a question, not to answer it"),"."),(0,r.kt)("h2",{id:"how-do-i-synchronize-it"},"How do I synchronize it?"),(0,r.kt)("h3",{id:"manual-sync"},"Manual Sync"),(0,r.kt)("p",null,"By default, Veezoo does not automatically schedule to sync the Knowledge Graph."),(0,r.kt)("p",null,"So the most common way to sync it is by:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open in Veezoo Studio the file for the class you want to sync (under ",(0,r.kt)("inlineCode",{parentName:"li"},"knowledge-base/classes/..."),'). You can get there quickly by going to the Knowledge Graph sidebar, hovering over the class and clicking to "Open in Studio" in the info panel.')),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Open in Veezoo Studio",src:n(195).Z,width:"601",height:"482"})),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"You will notice on the top bar of the file a sync icon.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Sync Button",src:n(6434).Z,width:"695",height:"551"})),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Click on it and select the classes you want to sync.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Choose Classes",src:n(9737).Z,width:"714",height:"426"})),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Wait... and that's it.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Success",src:n(4585).Z,width:"644",height:"88"})),(0,r.kt)("h3",{id:"scheduled-sync"},"Scheduled Sync"),(0,r.kt)("p",null,"If there are always new individual values being added, you may want to schedule your sync to run with a certain frequency."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"To do this, go to the ",(0,r.kt)("inlineCode",{parentName:"li"},"Synchronization")," view in Studio.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Synchronization",src:n(6186).Z,width:"1882",height:"864"}),"   "),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Click on the ",(0,r.kt)("inlineCode",{parentName:"p"},"+ SCHEDULE")," button.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Select when the sync should start and how frequent (once, every hour, every day, every week)."))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Start and Frequency",src:n(7741).Z,width:"763",height:"592"}),"   "),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Now you can choose which concepts should be synced or whether you want all concepts with an explicit sync policy set to be synced (see next section).")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Concepts",src:n(6983).Z,width:"788",height:"609"}),"   "),(0,r.kt)("h3",{id:"scheduled-sync-with-sync-policy"},"Scheduled Sync with Sync Policy"),(0,r.kt)("p",null,"To do that, you will need to:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open Veezoo Studio and open the file for each class you want to schedule the sync.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Inside each class you want to sync, add a sync_policy:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"If you want to keep changes you may have done to the entities (e.g. synonyms, renaming), add: ",(0,r.kt)("inlineCode",{parentName:"p"},'sync_policy: "merge"'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"If you want to always replace the entities with the new ones: ",(0,r.kt)("inlineCode",{parentName:"p"},'sync_policy: "replace"')))))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'\nkb {\n    class Product {\n        name.en: "Product"\n        \n        from_table: product\n        sql: "${product.product_id}"\n        name_sql.en: "${product.product_name}"\n        \n        extends: onto.Product\n        \n        sync_policy: "replace"\n        \n        class Category {\n            name.en: "Category"\n            \n            sync_policy: "merge"\n\n            sql: "${product.category}"\n        }\n        \n        class Sub_Category {\n            name.en: "Sub Category"\n            \n            sql: "${product.sub_category}"\n        }\n    }\n}\n\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If you want a class to have a ",(0,r.kt)("inlineCode",{parentName:"li"},"name_sql")," that is shown in the queries, but without syncing them, because they contain too many values: ",(0,r.kt)("inlineCode",{parentName:"li"},'sync_policy: "ignore"'),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'\nkb {\n\n    // There may be millions of customers in your database and these should not be indexed in Veezoo (we also have a hard-limit here)\n    // but you don\'t want customers to be displayed with just their id, but rather with "first_name last_name"\n    // To achieve this, set sync_policy: "ignore"\n    class Customer {\n        name.en: "Customer"\n        \n        from_table: customer\n        sql: "${customer.id}"\n        name_sql.en: "${customer.first_name} || \' \' || ${customer.last_name}"\n\n        sync_policy: "ignore"\n        \n        ...\n    }\n}\n\n')),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Save and go to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Synchronization")," view again for your Knowledge Graph in Veezoo Studio.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Follow the steps in the previous section ",(0,r.kt)("inlineCode",{parentName:"p"},"Scheduled Sync"),", but choose to sync ",(0,r.kt)("inlineCode",{parentName:"p"},"All concepts with a sync policy"),". If you only set ",(0,r.kt)("inlineCode",{parentName:"p"},'sync_policy: "ignore"'),", you don't need to do this."))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"All concepts with a sync policy",src:n(2798).Z,width:"433",height:"116"})))}h.isMDXComponent=!0},9737:function(e,t,n){t.Z=n.p+"assets/images/choose-classes-2abf0e10624741093f9650fbb9aebe80.png"},6983:function(e,t,n){t.Z=n.p+"assets/images/concepts-27e8fad6dcf2983478c1a1fe4a5c3d9a.png"},2798:function(e,t,n){t.Z=n.p+"assets/images/concepts_with_sync_policy-460da49ac0f56ad07baa9ae8d99340e8.png"},195:function(e,t,n){t.Z=n.p+"assets/images/open-in-studio-e159a8a18c4790d7a56d62eb95826562.png"},7741:function(e,t,n){t.Z=n.p+"assets/images/start_frequency-ea3bb0cbd9637dbc34f0a6dcf5a1e4e5.png"},4585:function(e,t,n){t.Z=n.p+"assets/images/success-d2548f1fa166cbfd62fb20e8a9c9d909.png"},6434:function(e,t,n){t.Z=n.p+"assets/images/sync-button-58a0e26f093b1811e2f2b12d42686dbc.png"},6186:function(e,t,n){t.Z=n.p+"assets/images/synchronization-219a2fc411f72d1d108eef337fb5f181.png"}}]);