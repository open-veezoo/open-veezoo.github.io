"use strict";(self.webpackChunkveezoo_docs=self.webpackChunkveezoo_docs||[]).push([[8817],{3905:function(e,t,a){a.d(t,{Zo:function(){return m},kt:function(){return k}});var n=a(7294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var p=n.createContext({}),u=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},m=function(e){var t=u(e.components);return n.createElement(p.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,i=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),s=u(a),c=l,k=s["".concat(p,".").concat(c)]||s[c]||d[c]||i;return a?n.createElement(k,r(r({ref:t},m),{},{components:a})):n.createElement(k,r({ref:t},m))}));function k(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=a.length,r=new Array(i);r[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[s]="string"==typeof e?e:l,r[1]=o;for(var u=2;u<i;u++)r[u]=a[u];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},2078:function(e,t,a){a.r(t),a.d(t,{assets:function(){return m},contentTitle:function(){return p},default:function(){return k},frontMatter:function(){return o},metadata:function(){return u},toc:function(){return s}});var n=a(7462),l=a(3366),i=(a(7294),a(3905)),r=["components"],o={id:"html",title:"\u2699\ufe0f html"},p=void 0,u={unversionedId:"reference/kb-layer/general/html",id:"reference/kb-layer/general/html",title:"\u2699\ufe0f html",description:"Overview",source:"@site/docs/reference/kb-layer/general/html.md",sourceDirName:"reference/kb-layer/general",slug:"/reference/kb-layer/general/html",permalink:"/docs/reference/kb-layer/general/html",draft:!1,tags:[],version:"current",frontMatter:{id:"html",title:"\u2699\ufe0f html"},sidebar:"reference",previous:{title:"\u2699\ufe0f join",permalink:"/docs/reference/kb-layer/general/join"},next:{title:"virtual_table",permalink:"/docs/reference/db-layer/virtual-table"}},m={},s=[{value:"Overview",id:"overview",level:2},{value:"Available Constants",id:"available-constants",level:3},{value:"Available Filters",id:"available-filters",level:3},{value:"<code>format_number</code>",id:"format_number",level:4},{value:"<code>format_number_compact</code>",id:"format_number_compact",level:4},{value:"<code>format_date</code>",id:"format_date",level:4},{value:"Examples",id:"examples",level:2},{value:"Formatting a Number with Thousand Separators",id:"formatting-a-number-with-thousand-separators",level:3},{value:"Displaying Conditional Icons for Values",id:"displaying-conditional-icons-for-values",level:3},{value:"Applying a Compact Number Format",id:"applying-a-compact-number-format",level:3},{value:"Displaying the Weekday and Date",id:"displaying-the-weekday-and-date",level:3},{value:"Adding Custom HTML for a URL Field",id:"adding-custom-html-for-a-url-field",level:3},{value:"Showing a Conditional Badge for High Values",id:"showing-a-conditional-badge-for-high-values",level:3},{value:"Usage in VKL",id:"usage-in-vkl",level:2},{value:"Example: Adding HTML to a Measure",id:"example-adding-html-to-a-measure",level:3},{value:"Considerations",id:"considerations",level:2}],d={toc:s},c="wrapper";function k(e){var t=e.components,a=(0,l.Z)(e,r);return(0,i.kt)(c,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"Veezoo supports the ",(0,i.kt)("inlineCode",{parentName:"p"},"html")," property for various knowledge graph concepts, including:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Classes"),(0,i.kt)("li",{parentName:"ul"},"Numbers"),(0,i.kt)("li",{parentName:"ul"},"Dates"),(0,i.kt)("li",{parentName:"ul"},"Booleans"),(0,i.kt)("li",{parentName:"ul"},"Strings"),(0,i.kt)("li",{parentName:"ul"},"Measures"),(0,i.kt)("li",{parentName:"ul"},"Functions"),(0,i.kt)("li",{parentName:"ul"},"Units")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"html")," property allows embedding custom HTML using the ",(0,i.kt)("a",{parentName:"p",href:"https://shopify.github.io/liquid/"},"Liquid templating language"),", making it easy to format values dynamically."),(0,i.kt)("h3",{id:"available-constants"},"Available Constants"),(0,i.kt)("p",null,"Within the ",(0,i.kt)("inlineCode",{parentName:"p"},"html")," property, you can use the following constants:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"value"),": The raw value."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"formatted_value"),": The value formatted using ",(0,i.kt)("inlineCode",{parentName:"li"},"format_number"),", ensuring proper number formatting."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"min_value")," / ",(0,i.kt)("inlineCode",{parentName:"li"},"max_value"),": (For numbers only) The minimum and maximum values in the corresponding column.")),(0,i.kt)("h3",{id:"available-filters"},"Available Filters"),(0,i.kt)("p",null,"The following filters are available in Liquid expressions and have been implemented to provide localization-aware formatting:"),(0,i.kt)("h4",{id:"format_number"},(0,i.kt)("inlineCode",{parentName:"h4"},"format_number")),(0,i.kt)("p",null,"Formats a number using the user's number format preferences. You can optionally override the locale and other formatting options using named arguments:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-liquid"},"{{ value | format_number: locale: 'de-DE', style: 'currency', currency: 'EUR' }}\n")),(0,i.kt)("p",null,"Like ",(0,i.kt)("inlineCode",{parentName:"p"},"format_number_compact"),", this filter supports any options defined in the ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat"},(0,i.kt)("inlineCode",{parentName:"a"},"Intl.NumberFormat"))," constructor. These include:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"style"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"'decimal'"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"'currency'"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"'percent'"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"'unit'")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"currency"),": e.g., ",(0,i.kt)("inlineCode",{parentName:"li"},"'USD'"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"'EUR'")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"minimumFractionDigits"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"maximumFractionDigits")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"notation"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"'standard'"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"'scientific'"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"'engineering'"),", etc.")),(0,i.kt)("p",null,"Example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-liquid"},"{{ value | format_number: style: 'unit', unit: 'kilobyte', unitDisplay: 'narrow' }}\n")),(0,i.kt)("p",null,"This will display a number like ",(0,i.kt)("inlineCode",{parentName:"p"},"1,024 KB"),"."),(0,i.kt)("h4",{id:"format_number_compact"},(0,i.kt)("inlineCode",{parentName:"h4"},"format_number_compact")),(0,i.kt)("p",null,"Formats a number using compact notation (e.g., ",(0,i.kt)("inlineCode",{parentName:"p"},"K"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"M"),", etc.). Defaults to ",(0,i.kt)("inlineCode",{parentName:"p"},"'en-US'")," locale unless overridden:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-liquid"},"{{ value | format_number_compact }}\n{{ value | format_number_compact: locale: 'de-DE' }}\n")),(0,i.kt)("p",null,"You can also pass additional options supported by the ",(0,i.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat"},(0,i.kt)("inlineCode",{parentName:"a"},"Intl.NumberFormat"))," constructor, such as:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-liquid"},"{{ value | format_number_compact: locale: 'en-US', maximumFractionDigits: 1 }}\n")),(0,i.kt)("p",null,"This gives you control over rounding, currency display, unit style, and other formatting aspects."),(0,i.kt)("h4",{id:"format_date"},(0,i.kt)("inlineCode",{parentName:"h4"},"format_date")),(0,i.kt)("p",null,"Formats a date using ",(0,i.kt)("a",{parentName:"p",href:"https://date-fns.org/"},(0,i.kt)("inlineCode",{parentName:"a"},"date-fns"))," and supports format strings and localization:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-liquid"},"{{ value | format_date: 'EEEE, MMMM d, yyyy', locale: 'fr' }}\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The first argument is the date format string, following the ",(0,i.kt)("a",{parentName:"li",href:"https://date-fns.org/v2.30.0/docs/format"},(0,i.kt)("inlineCode",{parentName:"a"},"date-fns/format"))," syntax."),(0,i.kt)("li",{parentName:"ul"},"You can pass a ",(0,i.kt)("inlineCode",{parentName:"li"},"locale")," option to customize formatting to different languages. The locale uses the user's language by default but can be overridden."),(0,i.kt)("li",{parentName:"ul"},"Other options such as ",(0,i.kt)("inlineCode",{parentName:"li"},"weekStartsOn")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"firstWeekContainsDate")," can be passed too.")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Examples:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-liquid"},"{{ value | format_date: 'yyyy-MM-dd' }} \u2192 2024-06-15\n{{ value | format_date: 'PPPP', locale: 'it' }} \u2192 sabato 15 giugno 2024\n{{ value | format_date: 'MMM do, yyyy' }} \u2192 Jun 15th, 2024\n")),(0,i.kt)("p",null,"See the full list of tokens at the ",(0,i.kt)("a",{parentName:"p",href:"https://date-fns.org/v2.30.0/docs/format"},"date-fns documentation"),"."),(0,i.kt)("h2",{id:"examples"},"Examples"),(0,i.kt)("h3",{id:"formatting-a-number-with-thousand-separators"},"Formatting a Number with Thousand Separators"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-liquid"},"{{ formatted_value }}\n")),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," is ",(0,i.kt)("inlineCode",{parentName:"p"},"1234567.89"),", this will display as ",(0,i.kt)("inlineCode",{parentName:"p"},"1,234,567.89")," based on user locale settings."),(0,i.kt)("h3",{id:"displaying-conditional-icons-for-values"},"Displaying Conditional Icons for Values"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-liquid"},"{% if value > 1000000 %}\n    <span>\ud83d\udd25 {{ formatted_value }}</span>\n{% else %}\n    <span>\ud83d\udcb0 {{ formatted_value }}</span>\n{% endif %}\n")),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," is ",(0,i.kt)("inlineCode",{parentName:"p"},"1500000"),", this will display: ",(0,i.kt)("strong",{parentName:"p"},"\ud83d\udd25 1,500,000"),".\nIf ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," is ",(0,i.kt)("inlineCode",{parentName:"p"},"50000"),", this will display: ",(0,i.kt)("strong",{parentName:"p"},"\ud83d\udcb0 50,000"),"."),(0,i.kt)("h3",{id:"applying-a-compact-number-format"},"Applying a Compact Number Format"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-liquid"},"{{ value | format_number_compact }}\n")),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," is ",(0,i.kt)("inlineCode",{parentName:"p"},"1500000"),", this will display as ",(0,i.kt)("inlineCode",{parentName:"p"},"1.5M")," using the default ",(0,i.kt)("inlineCode",{parentName:"p"},"en-US")," locale."),(0,i.kt)("h3",{id:"displaying-the-weekday-and-date"},"Displaying the Weekday and Date"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-liquid"},"{{ value | format_date: 'EEEE, MMMM d, yyyy' }}\n")),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," is ",(0,i.kt)("inlineCode",{parentName:"p"},"2024-06-15"),", this will display ",(0,i.kt)("strong",{parentName:"p"},"Saturday, June 15, 2024"),"."),(0,i.kt)("h3",{id:"adding-custom-html-for-a-url-field"},"Adding Custom HTML for a URL Field"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-liquid"},'<a href="{{ value }}" target="_blank">Open Link</a>\n')),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," is ",(0,i.kt)("inlineCode",{parentName:"p"},"https://example.com"),", this will create a clickable hyperlink."),(0,i.kt)("h3",{id:"showing-a-conditional-badge-for-high-values"},"Showing a Conditional Badge for High Values"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-liquid"},'{% if value > 1000000 %}\n    <span style="color: green; font-weight: bold;">High</span>\n{% else %}\n    <span style="color: red;">Low</span>\n{% endif %}\n')),(0,i.kt)("p",null,"If ",(0,i.kt)("inlineCode",{parentName:"p"},"value")," is ",(0,i.kt)("inlineCode",{parentName:"p"},"1500000"),", this will display: ",(0,i.kt)("strong",{parentName:"p"},"High")," (in green and bold)."),(0,i.kt)("h2",{id:"usage-in-vkl"},"Usage in VKL"),(0,i.kt)("p",null,"To define an ",(0,i.kt)("inlineCode",{parentName:"p"},"html")," property in VKL, include it within the class, measure, or attribute definition."),(0,i.kt)("h3",{id:"example-adding-html-to-a-measure"},"Example: Adding HTML to a Measure"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'kb {\n    class Sales {\n        measure Revenue {\n            name.en: "Revenue"\n            return: number\n            definition: "sum(this.Sales_Amount)"\n            \n            html: "<b>{{ formatted_value }}</b>"\n        }\n    }\n}\n')),(0,i.kt)("p",null,"When displayed, this measure will appear bold and formatted appropriately."),(0,i.kt)("h2",{id:"considerations"},"Considerations"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Ensure all HTML is properly sanitized to prevent security issues."),(0,i.kt)("li",{parentName:"ul"},"Use ",(0,i.kt)("inlineCode",{parentName:"li"},"format_number"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"format_number_compact"),", and ",(0,i.kt)("inlineCode",{parentName:"li"},"format_date")," for proper localization."),(0,i.kt)("li",{parentName:"ul"},"The ",(0,i.kt)("inlineCode",{parentName:"li"},"html")," property is optional, and if not defined, the default formatted value is used.")),(0,i.kt)("p",null,"By using ",(0,i.kt)("inlineCode",{parentName:"p"},"html"),", you can enhance the readability and presentation of values within Veezoo while maintaining flexibility in formatting and customization."))}k.isMDXComponent=!0}}]);