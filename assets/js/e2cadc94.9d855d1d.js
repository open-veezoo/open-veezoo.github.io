"use strict";(self.webpackChunkveezoo_docs=self.webpackChunkveezoo_docs||[]).push([[9376],{3905:function(e,n,t){t.d(n,{kt:function(){return p}});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var u=r.createContext({}),c=function(e){var n=r.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},s={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,u=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(t),b=o,m=p["".concat(u,".").concat(b)]||p[b]||s[b]||a;return t?r.createElement(m,i(i({ref:n},d),{},{components:t})):r.createElement(m,i({ref:n},d))}));function p(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=d;var l={};for(var u in n)hasOwnProperty.call(n,u)&&(l[u]=n[u]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=t[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},4164:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return l},contentTitle:function(){return u},metadata:function(){return c},toc:function(){return s},default:function(){return p}});var r=t(3117),o=t(102),a=(t(7294),t(3905)),i=["components"],l={id:"double-integer",title:"double/integer"},u=void 0,c={unversionedId:"reference/kb-layer/attribute/double-integer",id:"reference/kb-layer/attribute/double-integer",title:"double/integer",description:"Definition",source:"@site/docs/reference/kb-layer/attribute/double-integer.md",sourceDirName:"reference/kb-layer/attribute",slug:"/reference/kb-layer/attribute/double-integer",permalink:"/docs/reference/kb-layer/attribute/double-integer",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/reference/kb-layer/attribute/double-integer.md",tags:[],version:"current",frontMatter:{id:"double-integer",title:"double/integer"},sidebar:"docs",previous:{title:"date",permalink:"/docs/reference/kb-layer/attribute/date"},next:{title:"boolean",permalink:"/docs/reference/kb-layer/attribute/boolean"}},s=[{value:"Definition",id:"definition",children:[],level:2},{value:"Usage",id:"usage",children:[],level:2}],d={toc:s};function p(e){var n=e.components,t=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"definition"},"Definition"),(0,a.kt)("p",null,"A Numeric attribute is used whenever you have a column or SQL expression that returns a number, e.g. an integer or a double."),(0,a.kt)("h2",{id:"usage"},"Usage"),(0,a.kt)("p",null,"File: ",(0,a.kt)("em",{parentName:"p"},"hitchhiker/knowledge-base/classes/Order.vkl")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import: [\n    db.postgres.movie_db.public.ORDERS\n]\n\nkb {\n\n    class Order {\n\n        ...\n\n        double Order_Total {\n            name.en: "Order Total"\n            synonym.en: ["Price", "Revenue", "Amount"]\n\n            unit: onto.Currency.USD\n\n            sql: "${ORDERS.order_total}"\n        }    \n    }\n}\n')),(0,a.kt)("p",null,"Notice the ",(0,a.kt)("a",{parentName:"p",href:"."},"unit")," parameter, which allows Veezoo to display the value in the appropriate format to the user."),(0,a.kt)("p",null,"As with the other kinds of attributes, you can also apply any kind of compatible SQL transformation inside ",(0,a.kt)("inlineCode",{parentName:"p"},"sql"),"."),(0,a.kt)("p",null,"Let's say instead that your attribute ",(0,a.kt)("inlineCode",{parentName:"p"},"kb.Order.Order_Total")," contains values in different currencies (USD, CHF, EUR), specified in the column ",(0,a.kt)("inlineCode",{parentName:"p"},"ORDERS.currency")," (imported as class ",(0,a.kt)("inlineCode",{parentName:"p"},"kb.Order.Currency"),").\nNow, summing these values up wouldn't make any sense. So we define a new attribute ",(0,a.kt)("inlineCode",{parentName:"p"},"Order_Total_EUR"),", which converts the values according to a fixed exchange rate."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import: [\n    db.postgres.movie_db.public.ORDERS\n]\n\nkb {\n\n    class Order {\n\n        ...\n\n        double Order_Total_EUR {\n            name.en: "Order Total (EUR)"\n            synonym.en: ["Price", "Revenue", "Order Total"]\n\n            unit: onto.Currency.EUR\n\n            sql: """\n                CASE ${kb.Order.Currency}\n                   WHEN \'USD\' THEN ${kb.Order.Order_Total} * 0.83\n                   WHEN \'CHF\' THEN ${kb.Order.Order_Total} * 0.92\n                   ELSE ${kb.Order.Order_Total}\n                END   \n            """\n\n        }    \n    }\n}\n')),(0,a.kt)("p",null,"Notice here that we have referred inside the curly brackets ",(0,a.kt)("inlineCode",{parentName:"p"},"${...}")," to a ",(0,a.kt)("inlineCode",{parentName:"p"},"kb")," concept, instead of a ",(0,a.kt)("inlineCode",{parentName:"p"},"db")," concept. This allows us to use recursively the definitions in the ",(0,a.kt)("inlineCode",{parentName:"p"},"sql")," from these ",(0,a.kt)("inlineCode",{parentName:"p"},"kb")," concepts. "),(0,a.kt)("p",null,"For example, we could now build on top of ",(0,a.kt)("inlineCode",{parentName:"p"},"kb.Order.Order_Total_EUR")," like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'import: [\n    db.postgres.movie_db.public.ORDERS\n]\n\nkb {\n\n    class Order {\n\n        ...\n\n        boolean Awesome {\n            name.en: "Awesome"\n\n            sql: "${kb.Order.Order_Total_EUR} > 1000"\n\n        }    \n    }\n}\n')),(0,a.kt)("p",null,"This is a ",(0,a.kt)("a",{parentName:"p",href:"boolean"},"boolean"),', defining "awesome" orders as those with a total order value normalized in Euro above 1000. How awesome is that!'))}p.isMDXComponent=!0}}]);