"use strict";(self.webpackChunkveezoo_docs=self.webpackChunkveezoo_docs||[]).push([[7303],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return y}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,s=e.originalType,l=e.parentName,u=r(e,["components","mdxType","originalType","parentName"]),p=d(n),m=i,y=p["".concat(l,".").concat(m)]||p[m]||c[m]||s;return n?a.createElement(y,o(o({ref:t},u),{},{components:n})):a.createElement(y,o({ref:t},u))}));function y(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var s=n.length,o=new Array(s);o[0]=m;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r[p]="string"==typeof e?e:i,o[1]=r;for(var d=2;d<s;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7960:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return d},default:function(){return h},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return c}});var a=n(7462),i=n(3366),s=(n(7294),n(3905)),o=n(4996),r=["components"],l={id:"display-answers-in-a-map",title:"Display answers in a map"},d="How to display geographical data in a map?",u={unversionedId:"tutorials/display-answers-in-a-map",id:"tutorials/display-answers-in-a-map",title:"Display answers in a map",description:"Veezoo always chooses the most appropriate visualization for your answer. To do that, it uses information from your Knowledge Graph about the data being displayed.",source:"@site/docs/tutorials/display-answers-in-a-map.md",sourceDirName:"tutorials",slug:"/tutorials/display-answers-in-a-map",permalink:"/docs/tutorials/display-answers-in-a-map",draft:!1,editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/tutorials/display-answers-in-a-map.md",tags:[],version:"current",frontMatter:{id:"display-answers-in-a-map",title:"Display answers in a map"},sidebar:"docs",previous:{title:"Add Veezoo to your browser",permalink:"/docs/tutorials/add-veezoo-to-your-browser"},next:{title:"Get Veezoo to Understand Your Questions",permalink:"/docs/recipes/understand-questions"}},p={},c=[{value:"Display world map",id:"display-world-map",level:2},{value:"Display world map using Latitude and Longitude",id:"display-world-map-using-latitude-and-longitude",level:2},{value:"Display a specific country map with its states",id:"display-a-specific-country-map-with-its-states",level:2},{value:"United States",id:"united-states",level:3},{value:"Germany",id:"germany",level:3},{value:"Brazil",id:"brazil",level:3},{value:"Switzerland",id:"switzerland",level:3},{value:"Kanton",id:"kanton",level:4},{value:"PLZ",id:"plz",level:4}],m={toc:c},y="wrapper";function h(e){var t=e.components,n=(0,i.Z)(e,r);return(0,s.kt)(y,(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"how-to-display-geographical-data-in-a-map"},"How to display geographical data in a map?"),(0,s.kt)("p",null,"Veezoo always chooses the most appropriate visualization for your answer. To do that, it uses information from your Knowledge Graph about the data being displayed.\nTherefore, you can annotate your data in the Knowledge Graph with ontology types to help Veezoo."),(0,s.kt)("p",null,"Here is how you can do it:"),(0,s.kt)("h2",{id:"display-world-map"},"Display world map"),(0,s.kt)("p",null,"Let's say you have data about countries. You will want to annotate your Country class like this:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},'\nkb {\n\n    class Customer {\n\n        ...\n\n\n        class Residence_Country {\n\n            name.en: "Residence Country"\n\n            sql: "${customer.residence_country}"\n\n\n            // Add this if already not present\n            extends: onto.Country\n        }\n\n    }\n}\n')),(0,s.kt)("p",null,"Now, you will need to sync the entities of this class, so that we can match the countries in your database (which can be written in different ways) to a more standardized format (with ISO code) for the maps."),(0,s.kt)("img",{alt:"Sync Entities",width:"500",src:(0,o.Z)("/img/tutorials/display-answers-in-a-map/sync-entities.png")}),(0,s.kt)("p",null,"And this is what you will see:"),(0,s.kt)("img",{alt:"Sync Entities",width:"500",src:(0,o.Z)("/img/tutorials/display-answers-in-a-map/world-map.png")}),(0,s.kt)("h2",{id:"display-world-map-using-latitude-and-longitude"},"Display world map using Latitude and Longitude"),(0,s.kt)("p",null,"In this case, you want to see specific geographical data displayed in a world map according to its coordinates (in the database)."),(0,s.kt)("p",null,"For this, you will need to make sure your Latitude and Longitude columns are correctly modelled for Veezoo. This means, modelling them as strings (so we don't lose any precision) and adding an ontology type with ",(0,s.kt)("inlineCode",{parentName:"p"},"extends"),"."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},'kb {\n\n    class Customer {\n\n        ...\n\n        // If you don\'t have display_with defined for Customer, it will already work.\n        // If you have display_with defined for Customer, you need to add Latitude and Longitude there.\n        display_with: [\n            ...,\n            kb.Customer.Latitude,\n            kb.Customer.Longitude\n        ]\n\n\n        // It is very important to make them into a string\n        string Latitude {\n\n            name.en: "Latitude"\n\n            sql: "${customer.latitude}"\n\n\n            // Add this if already not present\n            extends: onto.Latitude\n        }\n\n\n        // It is very important to make them into a string\n        string Longitude {\n\n            name.en: "Longitude"\n\n            sql: "${customer.longitude}"\n\n\n            // Add this if already not present\n            extends: onto.Longitude\n        }\n\n    }\n}\n')),(0,s.kt)("p",null,"To see the world map with latitude and longitude, you will first need to ask for unaggregated data. This means, if you have the geographical coordinates for a customer, you cannot ask for 'number of customers per ...', but rather 'show me all customers with ...'."),(0,s.kt)("p",null,"You can find the map button on your answer, when it is suitable."),(0,s.kt)("img",{alt:"Footer",width:"700",src:(0,o.Z)("/img/tutorials/display-answers-in-a-map/lat-long-footer.png")}),(0,s.kt)("p",null,"And then you can see the data points in the map:"),(0,s.kt)("img",{alt:"Lat/Long map",width:"700",src:(0,o.Z)("/img/tutorials/display-answers-in-a-map/lat-long-map.png")}),(0,s.kt)("p",null,"By clicking on one, you can see the detail information about the specific data point (row of your table in the answer)."),(0,s.kt)("img",{alt:"Lat/Long Detail View",width:"900",src:(0,o.Z)("/img/tutorials/display-answers-in-a-map/detail-view-lat-long.png")}),(0,s.kt)("h2",{id:"display-a-specific-country-map-with-its-states"},"Display a specific country map with its states"),(0,s.kt)("p",null,"With the same approach, we can also display country maps with data from each state."),(0,s.kt)("p",null,"Currently, Veezoo supports the following country maps:"),(0,s.kt)("h3",{id:"united-states"},"United States"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},'\nclass State {\n\n    name.en: "US State"\n\n    sql: "${customer.state}"\n\n\n    // Add this here\n    extends: onto.State.UnitedStates\n}\n\n')),(0,s.kt)("p",null,"Here is what you will see:"),(0,s.kt)("img",{alt:"United States Map",width:"500",src:(0,o.Z)("/img/tutorials/display-answers-in-a-map/us-map.png")}),(0,s.kt)("h3",{id:"germany"},"Germany"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},'\nclass Bundesland {\n\n    name.de: "Bundesland"\n\n    sql: "${kunde.bundesland}"\n\n    // Add this here\n    extends: onto.State.Germany\n}\n\n')),(0,s.kt)("h3",{id:"brazil"},"Brazil"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},'\nclass Estado {\n\n    name.pt: "Estado"\n\n    sql: "${cliente.estado}"\n\n    // Add this here\n    extends: onto.State.Brazil\n}\n\n')),(0,s.kt)("p",null,"Here is what you will see:"),(0,s.kt)("img",{alt:"Brazil Map",width:"500",src:(0,o.Z)("/img/tutorials/display-answers-in-a-map/brazil-map.png")}),(0,s.kt)("h3",{id:"switzerland"},"Switzerland"),(0,s.kt)("h4",{id:"kanton"},"Kanton"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},'\nclass Kanton {\n\n    name.de: "Kanton"\n\n    sql: "${kunde.kanton}"\n\n    // Add this here\n    extends: onto.Canton\n}\n\n')),(0,s.kt)("p",null,"Here is what you will see:"),(0,s.kt)("img",{alt:"Swiss Canton Map",width:"500",src:(0,o.Z)("/img/tutorials/display-answers-in-a-map/swiss-canton-map.png")}),(0,s.kt)("h4",{id:"plz"},"PLZ"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},'\nclass PLZ {\n\n    name.de: "PLZ"\n\n    sql: "${kunde.plz}"\n\n    // Add this here\n    extends: onto.PostalCode.Switzerland\n}\n\n')),(0,s.kt)("p",null,"Here is what you will see:"),(0,s.kt)("img",{alt:"Swiss PLZ Map",width:"500",src:(0,o.Z)("/img/tutorials/display-answers-in-a-map/swiss-plz-map.png")}))}h.isMDXComponent=!0}}]);