"use strict";(self.webpackChunkveezoo_docs=self.webpackChunkveezoo_docs||[]).push([[8975],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return y}});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),y=o,h=d["".concat(s,".").concat(y)]||d[y]||p[y]||r;return n?a.createElement(h,i(i({ref:t},u),{},{components:n})):a.createElement(h,i({ref:t},u))}));function y(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<r;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6912:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return y},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return p}});var a=n(3117),o=n(102),r=(n(7294),n(3905)),i=["components"],l={id:"kg-sync",title:"Knowledge Graph Sync",sidebar_label:"Why and how to sync?"},s=void 0,c={unversionedId:"kg-sync/kg-sync",id:"kg-sync/kg-sync",title:"Knowledge Graph Sync",description:"Why keep your Knowledge Graph synchronized?",source:"@site/docs/kg-sync/kg-sync.md",sourceDirName:"kg-sync",slug:"/kg-sync/",permalink:"/docs/kg-sync/",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/kg-sync/kg-sync.md",tags:[],version:"current",frontMatter:{id:"kg-sync",title:"Knowledge Graph Sync",sidebar_label:"Why and how to sync?"},sidebar:"docs",previous:{title:"Microsoft Azure Identity Provider",permalink:"/docs/admin/single-sign-on/microsoft-azure-idp"},next:{title:"name",permalink:"/docs/reference/kb-layer/general/name"}},u={},p=[{value:"Why keep your Knowledge Graph synchronized?",id:"why-keep-your-knowledge-graph-synchronized",level:2},{value:"How do I synchronize it?",id:"how-do-i-synchronize-it",level:2},{value:"Manual Sync",id:"manual-sync",level:3},{value:"Scheduled Sync",id:"scheduled-sync",level:3}],d={toc:p};function y(e){var t=e.components,l=(0,o.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"why-keep-your-knowledge-graph-synchronized"},"Why keep your Knowledge Graph synchronized?"),(0,r.kt)("p",null,"The Knowledge Graph is a semantic representation of your data and, because of that, it needs to know the values (entities) in your data."),(0,r.kt)("p",null,"When we talk about synchronizing the Knowledge Graph, we mean keeping these database values up-to-date, not the database schema."),(0,r.kt)("p",null,"Let's say you've imported a table containing the products you sell. These products may change in the future and Veezoo should know about these changes, so you can ask about the new products."),(0,r.kt)("p",null,"Notice here that the Knowledge Graph will contain the individual distinct values of a database column (e.g. your products), but not all the rows in your database (e.g. all the transactions from these products and the revenue, etc).\nIn other words, the Knowledge Graph is used to ",(0,r.kt)("strong",{parentName:"p"},"understand a question, not to answer it"),"."),(0,r.kt)("h2",{id:"how-do-i-synchronize-it"},"How do I synchronize it?"),(0,r.kt)("h3",{id:"manual-sync"},"Manual Sync"),(0,r.kt)("p",null,"By default, Veezoo does not automatically schedule to sync the Knowledge Graph."),(0,r.kt)("p",null,"So the most common way to sync it is by:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Open in Veezoo Studio the file for the class you want to sync (under ",(0,r.kt)("inlineCode",{parentName:"li"},"knowledge-base/classes/..."),'). You can get there quickly by going to the Knowledge Graph sidebar, hovering over the class and clicking to "Open in Studio" in the info panel.')),(0,r.kt)("p",null,(0,r.kt)("img",{loading:"lazy",alt:"Open in Veezoo Studio",src:n(2834).Z,width:"601",height:"482"})),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"You will notice on the top bar of the file a sync icon.")),(0,r.kt)("p",null,(0,r.kt)("img",{loading:"lazy",alt:"Sync Button",src:n(5271).Z,width:"695",height:"551"})),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Click on it and select the classes you want to sync.")),(0,r.kt)("p",null,(0,r.kt)("img",{loading:"lazy",alt:"Choose Classes",src:n(6626).Z,width:"714",height:"426"})),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"Wait... and that's it.")),(0,r.kt)("p",null,(0,r.kt)("img",{loading:"lazy",alt:"Success",src:n(6003).Z,width:"644",height:"88"})),(0,r.kt)("h3",{id:"scheduled-sync"},"Scheduled Sync"),(0,r.kt)("p",null,"If there are always new individual values being added, you may want to schedule your sync to run with a certain frequency."),(0,r.kt)("p",null,"To do that, you will need to:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Open Veezoo Studio and open the file for each class you want to schedule the sync.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Inside each class you want to sync, add a sync_policy:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"If you want to keep changes you may have done to the entities (e.g. synonyms, renaming), add: ",(0,r.kt)("inlineCode",{parentName:"p"},'sync_policy: "merge"'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"If you want to always replace the entities with the new ones: ",(0,r.kt)("inlineCode",{parentName:"p"},'sync_policy: "replace"')))))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'\nkb {\n    class Product {\n        name.en: "Product"\n        \n        from_table: product\n        sql: "${product.product_id}"\n        name_sql.en: "${product.product_name}"\n        \n        extends: onto.Product\n        \n        sync_policy: "replace"\n        \n        class Category {\n            name.en: "Category"\n            \n            sync_policy: "merge"\n\n            sql: "${product.category}"\n        }\n        \n        class Sub_Category {\n            name.en: "Sub Category"\n            \n            sql: "${product.sub_category}"\n        }\n    }\n}\n\n')),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Save and go back to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Configuration")," view for your Knowledge Graph in Veezoo Studio.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Modify the field ",(0,r.kt)("inlineCode",{parentName:"p"},"Synchronization Schedule")," by adding a cron expression (in UTC) for the frequency."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"You can use ",(0,r.kt)("a",{parentName:"p",href:"https://www.freeformatter.com/cron-expression-generator-quartz.html"},"this website")," to find out the appropriate cron expression.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},'If the cron expression is for more often than once a day, it may incur extra costs. So use something like "every day at 03 AM": ',(0,r.kt)("inlineCode",{parentName:"p"},"0 0 3 ? * * *")))))),(0,r.kt)("p",null,(0,r.kt)("img",{loading:"lazy",alt:"Configuration",src:n(6356).Z,width:"907",height:"1106"}),"   "),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Save it and that's it.")))}y.isMDXComponent=!0},6626:function(e,t,n){t.Z=n.p+"assets/images/choose-classes-2abf0e10624741093f9650fbb9aebe80.png"},6356:function(e,t,n){t.Z=n.p+"assets/images/configuration-a1c1ef6a44753ddea0c1d634348ba90b.png"},2834:function(e,t,n){t.Z=n.p+"assets/images/open-in-studio-e159a8a18c4790d7a56d62eb95826562.png"},6003:function(e,t,n){t.Z=n.p+"assets/images/success-d2548f1fa166cbfd62fb20e8a9c9d909.png"},5271:function(e,t,n){t.Z=n.p+"assets/images/sync-button-58a0e26f093b1811e2f2b12d42686dbc.png"}}]);