<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.10">
<link rel="search" type="application/opensearchdescription+xml" title="The Hitchhiker&#39;s Guide to Veezoo" href="/opensearch.xml"><title data-react-helmet="true">sql / name_sql / synonym_sql | The Hitchhiker&#x27;s Guide to Veezoo</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://open-veezoo.github.io/docs/reference/kb-layer/class/sql"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="sql / name_sql / synonym_sql | The Hitchhiker&#x27;s Guide to Veezoo"><meta data-react-helmet="true" name="description" content="Definition"><meta data-react-helmet="true" property="og:description" content="Definition"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://open-veezoo.github.io/docs/reference/kb-layer/class/sql"><link data-react-helmet="true" rel="alternate" href="https://open-veezoo.github.io/docs/reference/kb-layer/class/sql" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://open-veezoo.github.io/docs/reference/kb-layer/class/sql" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.99a92f05.css">
<link rel="preload" href="/assets/js/runtime~main.fd96db11.js" as="script">
<link rel="preload" href="/assets/js/main.951ec8e8.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo_full.png" alt="Veezoo Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/logo_full_dark.png" alt="Veezoo Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ðŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ðŸŒž</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Kl_"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/recipes/understand-questions">Recipes: How to Get the Most Out of Veezoo</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/docs/reference/kb-layer/general/name">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" tabindex="0" href="/docs/reference/kb-layer/general/name">Knowledge Base Layer</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/docs/reference/kb-layer/general/name">General configurations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" tabindex="0" href="/docs/reference/kb-layer/class/">Class configurations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/kb-layer/class/">What is a class?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/reference/kb-layer/class/sql">sql / name_sql / synonym_sql</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/kb-layer/class/default_date">default_date</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/kb-layer/class/default_order">default_order</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/kb-layer/class/display_with">display_with</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/kb-layer/class/creation_date">creation_date</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/reference/kb-layer/class/extends">extends</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/docs/reference/kb-layer/entity/">Entity configurations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/docs/reference/kb-layer/relationship/">Relationship configurations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/docs/reference/kb-layer/attribute">Attribute configurations</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" tabindex="0" href="/docs/reference/ontology/person">Ontology</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/docs/studio/single-sign-on">Veezoo Studio</a></div></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>sql / name_sql / synonym_sql</h1></header><h2 id="definition">Definition</h2><p>The <code>sql</code> property (and related ones) specifies how the class is represented in the database (as a table or a column), what a unique key (<code>sql</code>) for this class is and how its <a href="../entity/entity">entities</a> are generated from SQL, if it should have any.</p><h2 id="usage">Usage</h2><p>A class can be defined by a table, a column or a SQL. Let&#x27;s take the example of a table <code>customer(id, name, status)</code>.</p><p>In this example, Veezoo will generate two classes: <code>kb.Customer</code> and <code>kb.Customer.Status</code>.</p><h3 id="class-defined-by-table">Class defined by Table</h3><p>In the case of <code>kb.Customer</code>, we have a class defined by a table <code>customer</code>.</p><pre><code class="language-json">import: [
    db.postgres.movie_db.public.customer
]

kb {
    class Customer {
        name.en: &quot;Customer&quot;

        from_table: customer
        // e.g. 00042
        sql: &quot;${customer.id}&quot;
        // e.g. [00042] Arthur Dent
        name_sql.en: &quot;&#x27;[&#x27; || ${customer.id} || &#x27;] &#x27; || ${customer.name}&quot;        
        // e.g. Arthur Dent
        synonym_sql.en: &quot;${customer.name}&quot;

        ...
    }
}
</code></pre><p>Table Classes need to have</p><ul><li>a reference to the table <code>from_table: customer</code> and </li><li>a SQL expression that uniquely identifies it <code>sql: &quot;${customer.id}&quot;</code>, used for Joins as a key.</li></ul><p>Optionally, if it is a class with values that you may want to refer to in questions (e.g. a specific customer), it makes sense to define the name for the entities of this class.</p><p>To do this you will add a <code>name_sql</code> with a language tag (e.g. <code>.en</code> for English), specifying how the <a href="../general/name">name</a> of the entity will be generated. If no <code>name_sql</code> is defined, Veezoo will use the <code>sql</code> as the default <code>name_sql</code> expression.</p><p>There may be <a href="../general/synonym">synonyms</a> in the table that you also want to use for the entities. These you will define using the property <code>synonym_sql</code> with the appropriate language tag.
In our example, after clicking on the <code>Sync Entities</code> button in the Editor when you have the class file open, you will get entities like this:</p><pre><code class="language-json">kb.Customer {
    entity 00042_Arthur_Dent_1234 {         
        name.en: &quot;[00042] Arthur Dent&quot;

        synonym.en: &quot;Arthur Dent&quot;

        id: &quot;00042&quot;
    }
    ...
}

</code></pre><p>In the case of a class called <code>kb.Order</code>, you may prefer not to have any entities defined. This means <code>name_sql</code> and <code>synonym_sql</code> will be left out.</p><h3 id="class-defined-by-column">Class defined by Column</h3><p>In our example, the class <code>kb.Status</code> was defined by the column <code>status</code> in the <code>customer</code> table. Let&#x27;s take a look at how it would be defined in VKL.</p><pre><code class="language-json">import: [
    db.postgres.movie_db.public.customer
]

kb {
    // inside the file for the class Customer
    class Customer {

        ...


        class Status {
            name.en: &quot;Status&quot;
        
            // e.g. ACTIVE
            sql: &quot;${customer.status}&quot;
        }
    }
}
</code></pre><p>Each entity of the class <code>kb.Customer.Status</code> is uniquely defined by the <code>sql</code> expression, which also happens to be the default <code>name_sql</code> for the entities.
In this case, there is no <code>synonym_sql</code> defined.</p><h3 id="advanced-class-defined-by-a-sql">Advanced: Class defined by a SQL</h3><p>The last way you can define a class is over a SQL query that follows a specific format.</p><p>Let&#x27;s take the example of two tables <code>customer(id, email)</code> and <code>profile(id, customer_id, name)</code>. For whatever reason, we have now two tables with information about a customer. For simplicity sake, let&#x27;s assume that <code>profile</code> only has one entry per customer.</p><p>Now, we don&#x27;t want to make <code>profile</code> accessible over Veezoo, since it is just extra information that was separated technically in different tables. Our business users have no clue why it is separated and they don&#x27;t want to care about it.</p><p>What we will do instead now is to join both these tables so we can generate entities of the class <code>kb.Customer</code> with nice-looking names.</p><pre><code class="language-json">import: [
    db.postgres.movie_db.public.customer
]

kb {
    class Customer {
        name.en: &quot;Customer&quot;
        
        // e.g. 00042
        sql: &quot;${customer.id}&quot;
        from_table: customer

        entities_custom_sql: &quot;&quot;&quot;
            SELECT
                c.id AS ID,
                &#x27;[&#x27; || c.id || &#x27;] &#x27; || p.name AS LABEL_EN_MAIN,
                p.name AS LABEL_EN_1
            FROM
                customer c JOIN profile p ON c.id = p.customer_id
        &quot;&quot;&quot;
    }
}
</code></pre><p>As you can notice, instead of a <code>name_sql</code>, we defined an <code>entities_custom_sql</code>.</p><p>Let&#x27;s take a closer look at the SQL:</p><pre><code class="language-sql">SELECT
    c.id AS ID,
    &#x27;[&#x27; || c.id || &#x27;] &#x27; || p.name AS LABEL_EN_MAIN,
    p.name AS LABEL_EN_1
FROM
    customer c JOIN profile p ON c.id = p.customer_id
</code></pre><p>An <code>entities_custom_sql</code> always needs to have in the SELECT:</p><ul><li>one <code>ID</code> column, coinciding with the <code>sql</code>, and </li><li>a <code>LABEL_{LANGUAGE-TAG}_MAIN</code>, which will define the <code>name</code> of entities, similar to a <code>name_sql</code> in the previous cases.</li></ul><p>Optionally, every other <code>LABEL_{LANGUAGE-TAG}_*</code> defined is used the same way as <code>synonym_sql</code> is used in the previous sections.</p><p>It is important to notice that this SQL is only used to generate entities during Sync time, not query time. If you are interested in using custom SQLs during query time, please refer to virtual_table in the <code>database</code> part.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/reference/kb-layer/class/sql.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reference/kb-layer/class/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->What is a class?</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reference/kb-layer/class/default_date"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">default_date<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#definition" class="table-of-contents__link toc-highlight">Definition</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#class-defined-by-table" class="table-of-contents__link toc-highlight">Class defined by Table</a></li><li><a href="#class-defined-by-column" class="table-of-contents__link toc-highlight">Class defined by Column</a></li><li><a href="#advanced-class-defined-by-a-sql" class="table-of-contents__link toc-highlight">Advanced: Class defined by a SQL</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/veezoo" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/veezoo" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://veezoo.com" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Veezoo AG. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.fd96db11.js"></script>
<script src="/assets/js/main.951ec8e8.js"></script>
</body>
</html>